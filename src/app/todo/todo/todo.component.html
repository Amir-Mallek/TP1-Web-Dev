<div class="container py-3 bg-light">
  <div class="d-flex gap-2 mb-3">
    <input
      type="text"
      class="form-control"
      placeholder="name"
      [ngModel]="name()"
      (ngModelChange)="name.set($event)"
    >
    <input
      type="text"
      class="form-control"
      placeholder="content"
      [ngModel]="content()"
      (ngModelChange)="content.set($event)"
    >
    <button class="btn btn-danger" (click)="addTodo()">Add</button>
  </div>

  <div class="row g-3">
    <div class="col-md-4">
      <div class="card bg-secondary-subtle">
        <div class="card-body">
          <h5 class="card-title text-center">Waiting</h5>
          @for (t of todoService.waiting(); track t.id) {
            <div>
              <div class="card my-2 p-2">
                <div class="d-flex justify-content-between align-items-center">
                  <span><b>{{ t.name }}</b> - {{ t.content }}</span>
                  <button class="btn btn-sm btn-outline-primary" (click)="changeStatus(t.id, 'in-progress')">▶</button>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card bg-warning-subtle">
        <div class="card-body">
          <h5 class="card-title text-center">In Progress</h5>
          @for (t of todoService.inProgress(); track t.id) {
            <div>
              <div class="card my-2 p-2">
                <div class="d-flex justify-content-between align-items-center">
                  <span><b>{{ t.name }}</b> - {{ t.content }}</span>
                  <button class="btn btn-sm btn-outline-success" (click)="changeStatus(t.id, 'done')">✅</button>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card bg-success-subtle">
        <div class="card-body">
          <h5 class="card-title text-center">Done</h5>
          @for (t of todoService.done(); track t.id) {
            <div>
              <div class="card my-2 p-2">
                <span><b>{{ t.name }}</b> - {{ t.content }}</span>
              </div>
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</div>
